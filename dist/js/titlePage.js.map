{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blocks/modules/titlePage/titlePage.js"],"names":["$buttons","$","$titleImages","click","event","$cur","hasClass","filter","toggleClass","eq","index","ymaps","ready","init","myMap","Map","center","zoom","coords","defaultIconSize","defaultIconOffset","bigIconSize","bigIconOffset","marksCollection","GeoObjectCollection","iconLayout","iconImageHref","iconImageSize","iconImageOffset","$mapSlides","i","length","add","Placemark","geoObjects","setType","controls","remove","events","e","eventTarget","get","getLength","options","unsetAll","set","removeClass","indexOf","addClass","on","fire","document","$dots","$current","$items","spacing","parseFloat","css","startPos","lastItem","lastItemR","lastTime","Date","now","position","left","data","y","$this","dest","TweenMax","to","onUpdate","updatePos","onComplete","ease","Quint","easeOut","pos","curItem","curItemR","Math","round","diff","deltaTime","force3D","$bounceDot","Quad","Elastic","easeParams"],"mappings":"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","file":"titlePage.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/blocks/modules/titlePage/titlePage.js\");\n","// import $ from \"jquery\";\r\n\r\n// Title Layers selector\r\nlet $buttons = $('.js-layerButton'),\r\n    $titleImages = $('.js-titleImage');\r\n\r\n$buttons.click(function(event) {\r\n    let $cur = $(this);\r\n\r\n    if (!$cur.hasClass('is-active')){\r\n        $titleImages.filter('.is-active').toggleClass('is-active');\r\n        $buttons.filter('.is-active').toggleClass('is-active');\r\n        $cur.toggleClass('is-active');\r\n        $titleImages.eq($cur.index()).toggleClass('is-active');\r\n    }\r\n});\r\n\r\n// Map and slides init\r\nymaps.ready(init);\r\nfunction init(){\r\n    let myMap = new ymaps.Map(\"map\", {\r\n                    center: [55.728870, 46.415600],\r\n                    zoom: 5\r\n                }),\r\n        coords = [\r\n                    [54.710454, 20.512733],\r\n                    [59.939095, 30.315868],\r\n                    [54.989342, 73.368212]\r\n                ],\r\n        defaultIconSize     = [30, 42],\r\n        defaultIconOffset   = [-16, -40],\r\n        bigIconSize         = [40, 52],\r\n        bigIconOffset       = [-21, -50];\r\n\r\n    // Map marks set\r\n    let marksCollection = new ymaps.GeoObjectCollection({}, {\r\n                            iconLayout: 'default#image',\r\n                            iconImageHref: 'img/svg/Pins.svg',\r\n                            iconImageSize: defaultIconSize,\r\n                            iconImageOffset: defaultIconOffset\r\n                        }),\r\n        $mapSlides = $('.js-washSlide');\r\n\r\n    for (let i = 0; i < coords.length; i++) {\r\n        marksCollection.add(new ymaps.Placemark(coords[i], {}, {}));\r\n    }\r\n\r\n    myMap.geoObjects.add(marksCollection);\r\n\r\n    // Remove excess control elements\r\n    myMap.setType('yandex#hybrid');\r\n    myMap.controls.remove('searchControl')\r\n                  .remove('geolocationControl')\r\n                  .remove('rulerControl')\r\n                  .remove('trafficControl')\r\n                  .remove('fullscreenControl')\r\n                  .remove('typeSelector');\r\n\r\n    // Add Map marks' click event\r\n    marksCollection.events.add('click', function(e) {\r\n        let eventTarget = e.get('target');\r\n\r\n        for (let i = 0; i < marksCollection.getLength(); i++) {\r\n            marksCollection.get(i).options.unsetAll();\r\n        }\r\n\r\n        eventTarget.options.set({\r\n            iconImageSize: bigIconSize,\r\n            iconImageOffset: bigIconOffset\r\n        });\r\n\r\n        $mapSlides.filter('.is-active').removeClass('is-active');\r\n        $mapSlides.eq(marksCollection.indexOf(eventTarget)).addClass('is-active')\r\n    });\r\n\r\n    // Add Map slides click event\r\n    $mapSlides.on('click', function () {\r\n        marksCollection.get($(this).index()).events.fire('click');\r\n    });\r\n}\r\n\r\n//// Pagination\r\n$(document).ready(function() {\r\n    let $dots = $(\".pagination__dot\"),\r\n        $current = $(\".pagination__current\"),\r\n        $items = $(\".js-paginationItem\"),\r\n        spacing = parseFloat($dots.css(\"width\")) + (parseFloat($dots.css(\"marginTop\")) * 2),\r\n        startPos,\r\n        lastItem = 0,\r\n        lastItemR = 0,\r\n        lastTime = Date.now();\r\n\r\n    startPos = $dots.eq(0).position().left;\r\n    $current.data(\"pos\",{y: startPos});\r\n\r\n    $dots.on('click', function() {\r\n        let $this = $(this),\r\n            dest = ($this.index()) * spacing;\r\n\r\n        TweenMax.to($current.data(\"pos\"), 0.6, {\r\n            y: startPos + dest,\r\n            onUpdate: updatePos,\r\n            onComplete: updatePos,\r\n            ease: Quint.easeOut\r\n        });\r\n\r\n        $items.filter('.is-active').toggleClass('is-active');\r\n        $items.eq($this.index()).toggleClass('is-active');\r\n    });\r\n\r\n    function updatePos() {\r\n        let pos = $current.data(\"pos\").y - startPos,\r\n            curItem = pos / spacing,\r\n            curItemR = Math.round(curItem),\r\n            now = Date.now(),\r\n            diff = now - lastTime,\r\n            deltaTime = diff / (1000 / 60);\r\n\r\n        TweenMax.set($current, {\r\n            y: pos + startPos,\r\n            force3D: true\r\n        });\r\n\r\n        lastTime = now;\r\n\r\n        if (lastItemR !== curItemR) {\r\n            let $bounceDot = $dots.eq(lastItemR);\r\n\r\n            TweenMax.to($bounceDot, 0.1, {\r\n                y: 70 * ((curItem - lastItem) / deltaTime),\r\n                ease: Quad.easeOut,\r\n                onComplete: function() {\r\n                    TweenMax.to($bounceDot, 1, {\r\n                        y: 0,\r\n                        ease: Elastic.easeOut,\r\n                        easeParams: [1.1, 0.5]\r\n                    });\r\n                }\r\n            })\r\n        }\r\n\r\n        lastItem = curItem;\r\n        lastItemR = curItemR;\r\n    }\r\n});\r\n"],"sourceRoot":""}